î*
@D:\Real-Estate\RealEstate.API\Controllers\AddressesController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 
class

 
AddressesController

 !
:

" #
ApiControllerBase

$ 5
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0 
CreateAddressCommand0 D
commandE L
)L M
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0 
GetAllAddressesQuery1 E
(E F
)F G
)G H
;H I
return 
Ok 
( 
result 
) 
; 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
["" 	 
ProducesResponseType""	 
("" 
StatusCodes"" )
."") *
Status200OK""* 5
)""5 6
]""6 7
public## 
async## 
Task## 
<## 
IActionResult## '
>##' (
Get##) ,
(##, -
Guid##- 1
id##2 4
)##4 5
{$$ 	
var%% 
result%% 
=%% 
await%% 
Mediator%% '
.%%' (
Send%%( ,
(%%, -
new%%- 0
GetByIdAddressQuery%%1 D
(%%D E
id%%E G
)%%G H
)%%H I
;%%I J
return&& 
Ok&& 
(&& 
result&& 
)&& 
;&& 
}'' 	
[)) 	
HttpPut))	 
()) 
$str)) 
))) 
])) 
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status204NoContent*** <
)**< =
]**= >
[++ 	 
ProducesResponseType++	 
(++ 
StatusCodes++ )
.++) *
Status404NotFound++* ;
)++; <
]++< =
public,, 
async,, 
Task,, 
<,, 
IActionResult,, '
>,,' (
Update,,) /
(,,/ 0
Guid,,0 4
id,,5 7
,,,7 8 
UpdateAddressCommand,,9 M
command,,N U
),,U V
{-- 	
if.. 
(.. 
id.. 
!=.. 
command.. 
... 
Id..  
)..  !
{// 
return00 

BadRequest00 !
(00! "
)00" #
;00# $
}11 
await22 
Mediator22 
.22 
Send22 
(22  
command22  '
)22' (
;22( )
return33 
	NoContent33 
(33 
)33 
;33 
}44 	
[66 	

HttpDelete66	 
(66 
$str66 
)66 
]66 
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status204NoContent77* <
)77< =
]77= >
[88 	 
ProducesResponseType88	 
(88 
StatusCodes88 )
.88) *
Status404NotFound88* ;
)88; <
]88< =
[99 	'
ProducesDefaultResponseType99	 $
]99$ %
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Delete::) /
(::/ 0
Guid::0 4
id::5 7
)::7 8
{;; 	
var<<  
deleteAddressCommand<< $
=<<% &
new<<' * 
DeleteAddressCommand<<+ ?
(<<? @
)<<@ A
{<<B C
Id<<D F
=<<G H
id<<I K
}<<L M
;<<M N
await== 
Mediator== 
.== 
Send== 
(==   
deleteAddressCommand==  4
)==4 5
;==5 6
return>> 
	NoContent>> 
(>> 
)>> 
;>> 
}?? 	
}@@ 
}AA ¨*
AD:\Real-Estate\RealEstate.API\Controllers\ApartmentsController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 

class

  
ApartmentsController

 %
:

& '
ApiControllerBase

( 9
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0"
CreateApartmentCommand0 F
commandG N
)N O
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0!
GetAllApartmentsQuery1 F
(F G
)G H
)H I
;I J
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0!
GetByIdApartmentQuery$$1 F
($$F G
id$$G I
)$$I J
)$$J K
;$$K L
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8"
UpdateApartmentCommand++9 O
command++P W
)++W X
{,, 	
if-- 
(-- 
id-- 
!=-- 
command-- 
.-- 

BasePostId-- (
)--( )
{.. 
return// 

BadRequest// !
(//! "
)//" #
;//# $
}00 
await11 
Mediator11 
.11 
Send11 
(11  
command11  '
)11' (
;11( )
return22 
	NoContent22 
(22 
)22 
;22 
}33 	
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; "
deleteApartmentCommand;; &
=;;' (
new;;) ,
DeleteApartment;;- <
(;;< =
);;= >
{;;? @

BasePostId;;A K
=;;L M
id;;N P
};;Q R
;;;R S
await<< 
Mediator<< 
.<< 
Send<< 
(<<  "
deleteApartmentCommand<<  6
)<<6 7
;<<7 8
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ ƒ
>D:\Real-Estate\RealEstate.API\Controllers\ApiControllerBase.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{ 
[ 
Route 

(
 
$str  
)  !
]! "
[ 
ApiController 
] 
public 

class 
ApiControllerBase "
:# $
ControllerBase% 3
{		 
private

 
ISender

 
mediator

  
=

! "
null

# '
!

' (
;

( )
	protected 
ISender 
Mediator "
=># %
mediator& .
??= 
HttpContext 
. 
RequestServices +
. 
GetRequiredService 
<  
ISender  '
>' (
(( )
)) *
;* +
} 
} ∂s
ED:\Real-Estate\RealEstate.API\Controllers\AuthenticationController.cs
	namespace		 	

RealEstate		
 
.		 
API		 
.		 
Controllers		 $
{

 
[ 
Route 
( 
$str 
) 
] 
[ 
ApiController 
] 
public 
class $
AuthenticationController &
:' (
ControllerBase) 7
{ 
private 	
readonly
 
IAuthService 
_authService  ,
;, -
private 	
readonly
 
ILogger 
< $
AuthenticationController 3
>3 4
_logger5 <
;< =
private 	
readonly
 
IEmailService  
_emailService! .
;. /
public $
AuthenticationController '
(' (
IAuthService( 4
authService5 @
,@ A
ILoggerB I
<I J$
AuthenticationControllerJ b
>b c
loggerd j
,j k
IEmailServicel y
emailService	z Ü
)
Ü á
{ 
_authService 
= 
authService 
; 
_logger 

= 
logger 
; 
_emailService 
= 
emailService 
;  
} 
[ 
HttpPost 
] 
[ 
Route 
( 	
$str	 
) 
] 
public 
async	 
Task 
< 
IActionResult !
>! "
Login# (
(( )

LoginModel) 3
model4 9
)9 :
{ 
try 
{ 
if   
(   
!   	

ModelState  	 
.   
IsValid   
)   
{!! 
return"" 

BadRequest"" 
("" 
$str"" (
)""( )
;"") *
}## 
var%% 
(%% 	
status%%	 
,%% 
message%% 
)%% 
=%% 
await%% !
_authService%%" .
.%%. /
Login%%/ 4
(%%4 5
model%%5 :
)%%: ;
;%%; <
if'' 
('' 
status'' 
=='' 
$num'' 
)'' 
{(( 
return)) 

BadRequest)) 
()) 
message)) 
))) 
;))  
}** 
return,, 

Ok,, 
(,, 
message,, 
),, 
;,, 
}-- 
catch.. 
(..	 

	Exception..
 
ex.. 
).. 
{// 
_logger00 
.00 
LogError00 
(00 
ex00 
.00 
Message00 
)00  
;00  !
return11 


StatusCode11 
(11 
StatusCodes11 !
.11! "(
Status500InternalServerError11" >
,11> ?
ex11@ B
.11B C
Message11C J
)11J K
;11K L
}22 
}33 
[55 
HttpPost55 
]55 
[66 
Route66 
(66 	
$str66	 
)66 
]66 
public77 
async77	 
Task77 
<77 
IActionResult77 !
>77! "
Register77# +
(77+ ,
RegistrationModel77, =
model77> C
)77C D
{88 
try99 
{:: 
if;; 
(;; 
!;; 	

ModelState;;	 
.;; 
IsValid;; 
);; 
{<< 
return== 

BadRequest== 
(== 
$str== (
)==( )
;==) *
}>> 
var@@ 
(@@ 	
status@@	 
,@@ 
message@@ 
)@@ 
=@@ 
await@@ !
_authService@@" .
.@@. /
Registeration@@/ <
(@@< =
model@@= B
)@@B C
;@@C D
ifBB 
(BB 
statusBB 
==BB 
$numBB 
)BB 
{CC 
returnDD 

BadRequestDD 
(DD 
messageDD 
)DD 
;DD  
}EE 
returnGG 

CreatedAtActionGG 
(GG 
nameofGG !
(GG! "
RegisterGG" *
)GG* +
,GG+ ,
modelGG- 2
)GG2 3
;GG3 4
}HH 
catchII 
(II	 

	ExceptionII
 
exII 
)II 
{JJ 
_loggerKK 
.KK 
LogErrorKK 
(KK 
exKK 
.KK 
MessageKK 
)KK  
;KK  !
returnLL 


StatusCodeLL 
(LL 
StatusCodesLL !
.LL! "(
Status500InternalServerErrorLL" >
,LL> ?
exLL@ B
.LLB C
MessageLLC J
)LLJ K
;LLK L
}MM 
}NN 
[PP 
HttpGetPP 

]PP
 
[QQ 
RouteQQ 
(QQ 	
$strQQ	 
)QQ 
]QQ 
publicRR 
asyncRR	 
TaskRR 
<RR 
IActionResultRR !
>RR! "
ConfirmEmailRR# /
(RR/ 0
stringRR0 6
emailRR7 <
,RR< =
stringRR> D
tokenRRE J
)RRJ K
{SS 
tryTT 
{UU 
ifVV 
(VV 
!VV 

ModelStateVV 
.VV 
IsValidVV %
)VV% &
{WW 
returnXX 

BadRequestXX %
(XX% &
$strXX& 7
)XX7 8
;XX8 9
}YY 
var[[ 	
([[
 
status[[ 
,[[ 
message[[ 
)[[ 
=[[ 
await[[ #
_authService[[$ 0
.[[0 1
ConfirmEmail[[1 =
([[= >
email[[> C
,[[C D
token[[E J
)[[J K
;[[K L
if]] 
(]] 
status]] 
==]] 
$num]] 
)]] 
{^^ 
return__ 

BadRequest__ %
(__% &
message__& -
)__- .
;__. /
}`` 
returnbb 

CreatedAtActionbb 
(bb 
nameofbb !
(bb! "
ConfirmEmailbb" .
)bb. /
,bb/ 0
emailbb1 6
)bb6 7
;bb7 8
}cc 
catchdd 
(dd 
	Exceptiondd 
exdd 
)dd  
{ee 
_loggerff 
.ff 
LogErrorff  
(ff  !
exff! #
.ff# $
Messageff$ +
)ff+ ,
;ff, -
returngg 

StatusCodegg !
(gg! "
StatusCodesgg" -
.gg- .(
Status500InternalServerErrorgg. J
,ggJ K
exggL N
.ggN O
MessageggO V
)ggV W
;ggW X
}hh 
}ii 	
[kk 
HttpPostkk 
]kk 
[ll 
AllowAnonymousll 
]ll 
[mm 
Routemm 
(mm 	
$strmm	 
)mm 
]mm 
publicnn 
asyncnn	 
Tasknn 
<nn 
IActionResultnn !
>nn! "
ForgotPasswordnn# 1
(nn1 2
[nn2 3
Requirednn3 ;
]nn; <
stringnn< B
emailnnC H
)nnH I
{oo 
trypp 
{qq 
ifrr 
(rr 
!rr 

ModelStaterr 
.rr  
IsValidrr  '
)rr' (
{ss 
returntt 

BadRequesttt %
(tt% &
$strtt& 7
)tt7 8
;tt8 9
}uu 
varww 
(ww 
statusww 
,ww 
messageww $
)ww$ %
=ww& '
awaitww( -
_authServiceww. :
.ww: ;
ForgotPasswordww; I
(wwI J
emailwwJ O
)wwO P
;wwP Q
ifyy 
(yy 
statusyy 
==yy 
$numyy 
)yy  
{zz 
return{{ 

BadRequest{{ %
({{% &
message{{& -
){{- .
;{{. /
}|| 
return~~ 
CreatedAtAction~~ &
(~~& '
nameof~~' -
(~~- .
ForgotPassword~~. <
)~~< =
,~~= >
email~~? D
)~~D E
;~~E F
} 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
ex
ÄÄ 
)
ÄÄ  
{
ÅÅ 
_logger
ÇÇ 
.
ÇÇ 
LogError
ÇÇ  
(
ÇÇ  !
ex
ÇÇ! #
.
ÇÇ# $
Message
ÇÇ$ +
)
ÇÇ+ ,
;
ÇÇ, -
return
ÉÉ 

StatusCode
ÉÉ !
(
ÉÉ! "
StatusCodes
ÉÉ" -
.
ÉÉ- .*
Status500InternalServerError
ÉÉ. J
,
ÉÉJ K
ex
ÉÉL N
.
ÉÉN O
Message
ÉÉO V
)
ÉÉV W
;
ÉÉW X
}
ÑÑ 
}
ÖÖ 	
[
áá 
HttpGet
áá 

]
áá
 
[
àà 
Route
àà 
(
àà 	
$str
àà	 
)
àà 
]
àà 
public
ââ 
async
ââ 
Task
ââ 
<
ââ 
IActionResult
ââ '
>
ââ' (
ResetPassword
ââ) 6
(
ââ6 7
string
ââ7 =
email
ââ> C
,
ââC D
string
ââE K
token
ââL Q
)
ââQ R
{
ää 
var
ãã 
model
ãã 
=
ãã 
new
ãã  
ResetPasswordModel
ãã %
{
ãã& '
Email
ãã( -
=
ãã. /
email
ãã0 5
,
ãã5 6
Token
ãã7 <
=
ãã= >
token
ãã? D
}
ããE F
;
ããF G
return
çç 	
Ok
çç
 
(
çç 
new
çç 
{
éé 
model
èè 	
}
êê 
)
êê 
;
êê 
}
ëë 	
[
ìì 
HttpPost
ìì 
]
ìì 
[
îî 
Route
îî 
(
îî 	
$str
îî	 
)
îî 
]
îî 
public
ïï 
async
ïï	 
Task
ïï 
<
ïï 
IActionResult
ïï !
>
ïï! "'
ResetPasswordConfirmation
ïï# <
(
ïï< = 
ResetPasswordModel
ïï= O
model
ïïP U
)
ïïU V
{
ññ 
try
óó 
{
òò 
if
ôô 
(
ôô 
!
ôô 

ModelState
ôô 
.
ôô  
IsValid
ôô  '
)
ôô' (
{
öö 
return
õõ 

BadRequest
õõ %
(
õõ% &
$str
õõ& 7
)
õõ7 8
;
õõ8 9
}
úú 
var
ûû 
(
ûû 
status
ûû 
,
ûû 
message
ûû $
)
ûû$ %
=
ûû& '
await
ûû( -
_authService
ûû. :
.
ûû: ;'
ResetPasswordConfirmation
ûû; T
(
ûûT U
model
ûûU Z
)
ûûZ [
;
ûû[ \
if
†† 
(
†† 
status
†† 
==
†† 
$num
†† 
)
††  
{
°° 
return
¢¢ 

BadRequest
¢¢ %
(
¢¢% &
message
¢¢& -
)
¢¢- .
;
¢¢. /
}
££ 
return
•• 
CreatedAtAction
•• &
(
••& '
nameof
••' -
(
••- .'
ResetPasswordConfirmation
••. G
)
••G H
,
••H I
model
••J O
)
••O P
;
••P Q
}
¶¶ 
catch
ßß 
(
ßß 
	Exception
ßß 
ex
ßß 
)
ßß  
{
®® 
_logger
©© 
.
©© 
LogError
©©  
(
©©  !
ex
©©! #
.
©©# $
Message
©©$ +
)
©©+ ,
;
©©, -
return
™™ 

StatusCode
™™ !
(
™™! "
StatusCodes
™™" -
.
™™- .*
Status500InternalServerError
™™. J
,
™™J K
ex
™™L N
.
™™N O
Message
™™O V
)
™™V W
;
™™W X
}
´´ 
}
¨¨ 
[
ÆÆ 

HttpDelete
ÆÆ 
]
ÆÆ 
[
ØØ 
Route
ØØ 
(
ØØ 	
$str
ØØ	 
)
ØØ 
]
ØØ 
[
∞∞ 	"
ProducesResponseType
∞∞	 
(
∞∞ 
StatusCodes
∞∞ )
.
∞∞) * 
Status204NoContent
∞∞* <
)
∞∞< =
]
∞∞= >
public
±± 
async
±± 
Task
±± 
<
±± 
IActionResult
±± '
>
±±' (

DeleteUser
±±) 3
(
±±3 4
string
±±4 :
email
±±; @
)
±±@ A
{
≤≤ 
try
≥≥ 
{
¥¥ 
if
µµ 
(
µµ 
!
µµ 

ModelState
µµ  
.
µµ  !
IsValid
µµ! (
)
µµ( )
{
∂∂ 
return
∑∑ 

BadRequest
∑∑ %
(
∑∑% &
$str
∑∑& 7
)
∑∑7 8
;
∑∑8 9
}
∏∏ 
var
∫∫ 
(
∫∫ 
status
∫∫ 
,
∫∫ 
message
∫∫ %
)
∫∫% &
=
∫∫' (
await
∫∫) .
_authService
∫∫/ ;
.
∫∫; <

DeleteUser
∫∫< F
(
∫∫F G
email
∫∫G L
)
∫∫L M
;
∫∫M N
if
ºº 
(
ºº 
status
ºº 
==
ºº 
$num
ºº 
)
ºº  
{
ΩΩ 
return
ææ 

BadRequest
ææ $
(
ææ$ %
message
ææ% ,
)
ææ, -
;
ææ- .
}
øø 
return
¡¡ 

CreatedAtAction
¡¡ 
(
¡¡ 
nameof
¡¡ !
(
¡¡! "

DeleteUser
¡¡" ,
)
¡¡, -
,
¡¡- .
email
¡¡/ 4
)
¡¡4 5
;
¡¡5 6
}
¬¬ 
catch
√√ 
(
√√ 
	Exception
√√ 
ex
√√ 
)
√√  
{
ƒƒ 
_logger
≈≈ 
.
≈≈ 
LogError
≈≈ 
(
≈≈ 
ex
≈≈ 
.
≈≈ 
Message
≈≈ &
)
≈≈& '
;
≈≈' (
return
∆∆ 

StatusCode
∆∆ "
(
∆∆" #
StatusCodes
∆∆# .
.
∆∆. /*
Status500InternalServerError
∆∆/ K
,
∆∆K L
ex
∆∆M O
.
∆∆O P
Message
∆∆P W
)
∆∆W X
;
∆∆X Y
}
«« 
}
»» 
}
   
}ÀÀ ô*
?D:\Real-Estate\RealEstate.API\Controllers\BasePostController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 

class

 
BasePostController

 #
:

$ %
ApiControllerBase

& 7
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0!
CreateBasePostCommand0 E
commandF M
)M N
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0 
GetAllBasePostsQuery1 E
(E F
)F G
)G H
;H I
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0 
GetByIdBasePostQuery$$1 E
($$E F
id$$F H
)$$H I
)$$I J
;$$J K
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8!
UpdateBasePostCommand++9 N
command++O V
)++V W
{,, 	
if-- 
(-- 
id-- 
!=-- 
command-- 
.-- 
Id--  
)--  !
{.. 
return// 

BadRequest// !
(//! "
)//" #
;//# $
}00 
await11 
Mediator11 
.11 
Send11 
(11  
command11  '
)11' (
;11( )
return22 
	NoContent22 
(22 
)22 
;22 
}33 	
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; !
deleteBasePostCommand;; %
=;;& '
new;;( +
DeleteBasePost;;, :
(;;: ;
);;; <
{;;= >

BasePostId;;? I
=;;J K
id;;L N
};;O P
;;;P Q
await<< 
Mediator<< 
.<< 
Send<< 
(<<  !
deleteBasePostCommand<<  5
)<<5 6
;<<6 7
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ á*
=D:\Real-Estate\RealEstate.API\Controllers\ClientController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 

class

 
ClientController

 !
:

" #
ApiControllerBase

$ 5
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0
CreateClientCommand0 C
commandD K
)K L
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0
GetAllClientsQuery1 C
(C D
)D E
)E F
;F G
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0
GetByIdClientQuery$$1 C
($$C D
id$$D F
)$$F G
)$$G H
;$$H I
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8
UpdateClientCommand++9 L
command++M T
)++T U
{,, 	
if-- 
(-- 
id-- 
!=-- 
command-- 
.-- 
UserId-- $
)--$ %
{.. 
return// 

BadRequest// !
(//! "
)//" #
;//# $
}00 
await11 
Mediator11 
.11 
Send11 
(11  
command11  '
)11' (
;11( )
return22 
	NoContent22 
(22 
)22 
;22 
}33 	
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; 
deleteClientCommand;; #
=;;$ %
new;;& )
DeleteClient;;* 6
(;;6 7
);;7 8
{;;9 :
UserId;;; A
=;;B C
id;;D F
};;G H
;;;H I
await<< 
Mediator<< 
.<< 
Send<< 
(<<  
deleteClientCommand<<  3
)<<3 4
;<<4 5
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ *
KD:\Real-Estate\RealEstate.API\Controllers\CommercialCategoriesController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 

class

 *
CommercialCategoriesController

 /
:

0 1
ApiControllerBase

1 B
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0+
CreateCommercialCategoryCommand0 O
commandP W
)W X
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0+
GetAllCommercialCategoriesQuery1 P
(P Q
)Q R
)R S
;S T
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0*
GetByIdCommercialCategoryQuery$$1 O
($$O P
id$$P R
)$$R S
)$$S T
;$$T U
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
['' 	
HttpPut''	 
('' 
$str'' 
)'' 
]'' 
[(( 	 
ProducesResponseType((	 
((( 
StatusCodes(( )
.(() *
Status204NoContent((* <
)((< =
]((= >
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status404NotFound))* ;
))); <
]))< =
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Update**) /
(**/ 0
Guid**0 4
id**5 7
,**7 8+
UpdateCommercialCategoryCommand**9 X
command**Y `
)**` a
{++ 	
if,, 
(,, 
id,, 
!=,, 
command,, 
.,, 
Id,,  
),,  !
{-- 
return.. 

BadRequest.. !
(..! "
).." #
;..# $
}// 
await00 
Mediator00 
.00 
Send00 
(00  
command00  '
)00' (
;00( )
return11 
	NoContent11 
(11 
)11 
;11 
}22 	
[44 	

HttpDelete44	 
(44 
$str44 
)44 
]44 
[55 	 
ProducesResponseType55	 
(55 
StatusCodes55 )
.55) *
Status204NoContent55* <
)55< =
]55= >
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status404NotFound66* ;
)66; <
]66< =
[77 	'
ProducesDefaultResponseType77	 $
]77$ %
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' (
Delete88) /
(88/ 0
Guid880 4
id885 7
)887 8
{99 	
var:: +
deleteCommercialCategoryCommand:: /
=::0 1
new::2 5$
DeleteCommercialCategory::6 N
(::N O
)::O P
{::Q R
Id::S U
=::V W
id::X Z
}::[ \
;::\ ]
await;; 
Mediator;; 
.;; 
Send;; 
(;;  +
deleteCommercialCategoryCommand;;  ?
);;? @
;;;@ A
return<< 
	NoContent<< 
(<< 
)<< 
;<< 
}== 	
}>> 
}?? µ*
BD:\Real-Estate\RealEstate.API\Controllers\CommercialsController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 
class

 !
CommercialsController

 #
:

$ %
ApiControllerBase

& 7
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0#
CreateCommercialCommand0 G
commandH O
)O P
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0"
GetAllCommercialsQuery1 G
(G H
)H I
)I J
;J K
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0"
GetByIdCommercialQuery$$1 G
($$G H
id$$H J
)$$J K
)$$K L
;$$L M
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8#
UpdateCommercialCommand++9 P
command++Q X
)++X Y
{,, 	
if-- 
(-- 
id-- 	
!=--
 
command-- 
.-- 

BasePostId-- 
)--  
{.. 
return// 


BadRequest// 
(// 
)// 
;// 
}00 
await11 
Mediator11	 
.11 
Send11 
(11 
command11 
)11 
;11  
return22 	
	NoContent22
 
(22 
)22 
;22 
}33 
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; #
deleteCommercialCommand;; '
=;;( )
new;;* -
DeleteCommercial;;. >
(;;> ?
);;? @
{;;A B

BasePostId;;C M
=;;N O
id;;P R
};;S T
;;;T U
await<< 
Mediator<< 
.<< 
Send<< 
(<<  #
deleteCommercialCommand<<  7
)<<7 8
;<<8 9
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ ˇ*
JD:\Real-Estate\RealEstate.API\Controllers\CommercialSpecificsController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 

class

 )
CommercialSpecificsController

 .
:

/ 0
ApiControllerBase

1 B
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0+
CreateCommercialSpecificCommand0 O
commandP W
)W X
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0*
GetAllCommercialSpecificsQuery1 O
(O P
)P Q
)Q R
;R S
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0*
GetByIdCommercialSpecificQuery$$1 O
($$O P
id$$P R
)$$R S
)$$S T
;$$T U
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8+
UpdateCommercialSpecificCommand++9 X
command++Y `
)++` a
{,, 	
if-- 
(-- 
id-- 	
!=--
 
command-- 
.-- 
Id-- 
)-- 
{.. 
return// 


BadRequest// 
(// 
)// 
;// 
}00 
await11 
Mediator11	 
.11 
Send11 
(11 
command11 
)11 
;11  
return22 	
	NoContent22
 
(22 
)22 
;22 
}33 
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; +
deleteCommercialSpecificCommand;; /
=;;0 1
new;;2 5$
DeleteCommercialSpecific;;6 N
(;;N O
);;O P
{;;Q R 
CommercialSpecificId;;S g
=;;h i
id;;j l
};;m n
;;;n o
await<< 
Mediator<< 
.<< 
Send<< 
(<<  +
deleteCommercialSpecificCommand<<  ?
)<<? @
;<<@ A
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ «*
DD:\Real-Estate\RealEstate.API\Controllers\HotelPensionsController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 
class

 #
HotelPensionsController

 %
:

& '
ApiControllerBase

( 9
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0%
CreateHotelPensionCommand0 I
commandJ Q
)Q R
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0$
GetAllHotelPensionsQuery1 I
(I J
)J K
)K L
;L M
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0$
GetByIdHotelPensionQuery$$1 I
($$I J
id$$J L
)$$L M
)$$M N
;$$N O
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8%
UpdateHotelPensionCommand++9 R
command++S Z
)++Z [
{,, 	
if-- 
(-- 
id-- 	
!=--
 
command-- 
.-- 

BasePostId-- 
)--  
{.. 
return// 


BadRequest// 
(// 
)// 
;// 
}00 
await11 
Mediator11	 
.11 
Send11 
(11 
command11 
)11 
;11  
return22 	
	NoContent22
 
(22 
)22 
;22 
}33 
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; %
deleteHotelPensionCommand;; )
=;;* +
new;;, /
DeleteHotelPension;;0 B
(;;B C
);;C D
{;;E F

BasePostId;;G Q
=;;R S
id;;T V
};;W X
;;;X Y
await<< 
Mediator<< 
.<< 
Send<< 
(<<  %
deleteHotelPensionCommand<<  9
)<<9 :
;<<: ;
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ à*
=D:\Real-Estate\RealEstate.API\Controllers\HousesController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 
class

 
HousesController

 
:

  
ApiControllerBase

! 2
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0
CreateHouseCommand0 B
commandC J
)J K
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0
GetAllHousesQuery1 B
(B C
)C D
)D E
;E F
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0
GetByIdHouseQuery$$1 B
($$B C
id$$C E
)$$E F
)$$F G
;$$G H
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8
UpdateHouseCommand++9 K
command++L S
)++S T
{,, 	
if-- 
(-- 
id-- 	
!=--
 
command-- 
.-- 

BasePostId-- 
)--  
{.. 
return// 


BadRequest// 
(// 
)// 
;// 
}00 
await11 
Mediator11	 
.11 
Send11 
(11 
command11 
)11 
;11  
return22 	
	NoContent22
 
(22 
)22 
;22 
}33 
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; 
deleteHouseCommand;; "
=;;# $
new;;% (
DeleteHouse;;) 4
(;;4 5
);;5 6
{;;7 8

BasePostId;;9 C
=;;D E
id;;F H
};;I J
;;;J K
await<< 
Mediator<< 
.<< 
Send<< 
(<<  
deleteHouseCommand<<  2
)<<2 3
;<<3 4
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ ö*
@D:\Real-Estate\RealEstate.API\Controllers\HouseTypeController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 

class

 
HouseTypeController

 $
:

% &
ApiControllerBase

' 8
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0"
CreateHouseTypeCommand0 F
commandG N
)N O
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0!
GetAllHouseTypesQuery1 F
(F G
)G H
)H I
;I J
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0!
GetByIdHouseTypeQuery$$1 F
($$F G
id$$G I
)$$I J
)$$J K
;$$K L
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8"
UpdateHouseTypeCommand++9 O
command++P W
)++W X
{,, 	
if-- 
(-- 
id-- 	
!=--
 
command-- 
.-- 
Id-- 
)-- 
{.. 
return// 


BadRequest// 
(// 
)// 
;// 
}00 
await11 
Mediator11	 
.11 
Send11 
(11 
command11 
)11 
;11  
return22 	
	NoContent22
 
(22 
)22 
;22 
}33 
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; "
deleteHouseTypeCommand;; &
=;;' (
new;;) ,
DeleteHouseType;;- <
(;;< =
);;= >
{;;? @
Id;;A C
=;;D E
id;;F H
};;I J
;;;J K
await<< 
Mediator<< 
.<< 
Send<< 
(<<  "
deleteHouseTypeCommand<<  6
)<<6 7
;<<7 8
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ ‚*
HD:\Real-Estate\RealEstate.API\Controllers\LotClassificationController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public 

class '
LotClassificationController ,
:- .
ApiControllerBase/ @
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0*
CreateLotClassificationCommand0 N
commandO V
)V W
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0)
GetAllLotClassificationsQuery1 N
(N O
)O P
)P Q
;Q R
return 
Ok 
( 
result 
) 
; 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
["" 	 
ProducesResponseType""	 
("" 
StatusCodes"" )
."") *
Status200OK""* 5
)""5 6
]""6 7
public## 
async## 
Task## 
<## 
IActionResult## '
>##' (
Get##) ,
(##, -
Guid##- 1
id##2 4
)##4 5
{$$ 	
var%% 
result%% 
=%% 
await%% 
Mediator%% '
.%%' (
Send%%( ,
(%%, -
new%%- 0)
GetByIdLotClassificationQuery%%1 N
(%%N O
id%%O Q
)%%Q R
)%%R S
;%%S T
return&& 
Ok&& 
(&& 
result&& 
)&& 
;&& 
}'' 	
[)) 	
HttpPut))	 
()) 
$str)) 
))) 
])) 
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status204NoContent*** <
)**< =
]**= >
[++ 	 
ProducesResponseType++	 
(++ 
StatusCodes++ )
.++) *
Status404NotFound++* ;
)++; <
]++< =
public,, 
async,, 
Task,, 
<,, 
IActionResult,, '
>,,' (
Update,,) /
(,,/ 0
Guid,,0 4
id,,5 7
,,,7 8*
UpdateLotClassificationCommand,,9 W
command,,X _
),,_ `
{-- 	
if.. 
(.. 
id.. 	
!=..
 
command.. 
... 
Id.. 
).. 
{// 
return00 


BadRequest00 
(00 
)00 
;00 
}11 
await22 
Mediator22	 
.22 
Send22 
(22 
command22 
)22 
;22  
return33 	
	NoContent33
 
(33 
)33 
;33 
}44 
[66 	

HttpDelete66	 
(66 
$str66 
)66 
]66 
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status204NoContent77* <
)77< =
]77= >
[88 	 
ProducesResponseType88	 
(88 
StatusCodes88 )
.88) *
Status404NotFound88* ;
)88; <
]88< =
[99 	'
ProducesDefaultResponseType99	 $
]99$ %
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Delete::) /
(::/ 0
Guid::0 4
id::5 7
)::7 8
{;; 	
var<< *
deleteLotClassificationCommand<< .
=<</ 0
new<<1 4#
DeleteLotClassification<<5 L
(<<L M
)<<M N
{<<O P
Id<<Q S
=<<T U
id<<V X
}<<Y Z
;<<Z [
await== 
Mediator== 
.== 
Send== 
(==  *
deleteLotClassificationCommand==  >
)==> ?
;==? @
return>> 
	NoContent>> 
(>> 
)>> 
;>> 
}?? 	
}@@ 
}AA Ù)
:D:\Real-Estate\RealEstate.API\Controllers\LotController.cs
	namespace 	

RealEstate
 
. 
API 
. 
Controllers $
{		 
public

 
class

 
LotController

 
:

 
ApiControllerBase

 /
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0
CreateLotCommand0 @
commandA H
)H I
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0
GetAllLotsQuery1 @
(@ A
)A B
)B C
;C D
return 
Ok 
( 
result 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
StatusCodes!! )
.!!) *
Status200OK!!* 5
)!!5 6
]!!6 7
public"" 
async"" 
Task"" 
<"" 
IActionResult"" '
>""' (
Get"") ,
("", -
Guid""- 1
id""2 4
)""4 5
{## 	
var$$ 
result$$ 
=$$ 
await$$ 
Mediator$$ '
.$$' (
Send$$( ,
($$, -
new$$- 0
GetByIdLotQuery$$1 @
($$@ A
id$$A C
)$$C D
)$$D E
;$$E F
return%% 
Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPut((	 
((( 
$str(( 
)(( 
](( 
[)) 	 
ProducesResponseType))	 
()) 
StatusCodes)) )
.))) *
Status204NoContent))* <
)))< =
]))= >
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status404NotFound*** ;
)**; <
]**< =
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
Update++) /
(++/ 0
Guid++0 4
id++5 7
,++7 8
UpdateLotCommand++9 I
command++J Q
)++Q R
{,, 	
if-- 
(-- 
id-- 	
!=--
 
command-- 
.-- 

BasePostId-- 
)--  
{.. 
return// 


BadRequest// 
(// 
)// 
;// 
}00 
await11 
Mediator11	 
.11 
Send11 
(11 
command11 
)11 
;11  
return22 	
	NoContent22
 
(22 
)22 
;22 
}33 
[55 	

HttpDelete55	 
(55 
$str55 
)55 
]55 
[66 	 
ProducesResponseType66	 
(66 
StatusCodes66 )
.66) *
Status204NoContent66* <
)66< =
]66= >
[77 	 
ProducesResponseType77	 
(77 
StatusCodes77 )
.77) *
Status404NotFound77* ;
)77; <
]77< =
[88 	'
ProducesDefaultResponseType88	 $
]88$ %
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Delete99) /
(99/ 0
Guid990 4
id995 7
)997 8
{:: 	
var;; 
deleteLotCommand;;  
=;;! "
new;;# &
	DeleteLot;;' 0
(;;0 1
);;1 2
{;;3 4

BasePostId;;5 ?
=;;@ A
id;;B D
};;E F
;;;F G
await<< 
Mediator<< 
.<< 
Send<< 
(<<  
deleteLotCommand<<  0
)<<0 1
;<<1 2
return== 
	NoContent== 
(== 
)== 
;== 
}>> 	
}?? 
}@@ º+
CD:\Real-Estate\RealEstate.API\Controllers\PartitioningController.cs
	namespace		 	

RealEstate		
 
.		 
API		 
.		 
Controllers		 $
{

 
public 

class "
PartitioningController '
:( )
ApiControllerBase* ;
{ 
[ 	
HttpPost	 
] 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status201Created* :
): ;
]; <
public 
async 
Task 
< 
IActionResult '
>' (
Create) /
(/ 0%
CreatePartitioningCommand0 I
commandJ Q
)Q R
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
command- 4
)4 5
;5 6
if 
( 
! 
result 
. 
Success 
)  
{ 
return 

BadRequest !
(! "
result" (
)( )
;) *
} 
return 
Ok 
( 
result 
) 
; 
} 	
[ 
HttpGet 

]
 
[ 	 
ProducesResponseType	 
( 
StatusCodes )
.) *
Status200OK* 5
)5 6
]6 7
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
Mediator '
.' (
Send( ,
(, -
new- 0$
GetAllPartitioningsQuery1 I
(I J
)J K
)K L
;L M
return 
Ok 
( 
result 
) 
; 
} 	
[!! 	
HttpGet!!	 
(!! 
$str!! 
)!! 
]!! 
["" 	 
ProducesResponseType""	 
("" 
StatusCodes"" )
."") *
Status200OK""* 5
)""5 6
]""6 7
public## 
async## 
Task## 
<## 
IActionResult## '
>##' (
Get##) ,
(##, -
Guid##- 1
id##2 4
)##4 5
{$$ 	
var%% 
result%% 
=%% 
await%% 
Mediator%% '
.%%' (
Send%%( ,
(%%, -
new%%- 0$
GetByIdPartitioningQuery%%1 I
(%%I J
id%%J L
)%%L M
)%%M N
;%%N O
return&& 
Ok&& 
(&& 
result&& 
)&& 
;&& 
}'' 	
[)) 	
HttpPut))	 
()) 
$str)) 
))) 
])) 
[** 	 
ProducesResponseType**	 
(** 
StatusCodes** )
.**) *
Status204NoContent*** <
)**< =
]**= >
[++ 	 
ProducesResponseType++	 
(++ 
StatusCodes++ )
.++) *
Status404NotFound++* ;
)++; <
]++< =
public,, 
async,, 
Task,, 
<,, 
IActionResult,, '
>,,' (
Update,,) /
(,,/ 0
Guid,,0 4
id,,5 7
,,,7 8%
UpdatePartitioningCommand,,9 R
command,,S Z
),,Z [
{-- 	
if.. 
(.. 
id.. 
!=.. 
command.. 
... 
Id.. 
)..  
{// 
return00 


BadRequest00 
(00 
)00 
;00 
}11 
await22 
Mediator22 
.22 
Send22 
(22  
command22  '
)22' (
;22( )
return33 
	NoContent33 
(33 
)33 
;33 
}44 	
[66 
	Authorize66 
(66 
Roles66 
=66 
$str66 
)66 
]66 
[77 

HttpDelete77 
(77 
$str77 
)77 
]77 
[88 	 
ProducesResponseType88	 
(88 
StatusCodes88 )
.88) *
Status204NoContent88* <
)88< =
]88= >
[99 	 
ProducesResponseType99	 
(99 
StatusCodes99 )
.99) *
Status404NotFound99* ;
)99; <
]99< =
[:: 	'
ProducesDefaultResponseType::	 $
]::$ %
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Delete;;) /
(;;/ 0
Guid;;0 4
id;;5 7
);;7 8
{<< 	
var== %
deletePartitioningCommand== )
===* +
new==, /
DeletePartitioning==0 B
(==B C
)==C D
{==E F
Id==G I
===J K
id==L N
}==O P
;==P Q
await>> 
Mediator>> 
.>> 
Send>> 
(>>  %
deletePartitioningCommand>>  9
)>>9 :
;>>: ;
return?? 
	NoContent?? 
(?? 
)?? 
;?? 
}@@ 	
}AA 
}BB Ä2
(D:\Real-Estate\RealEstate.API\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. "
AddHttpContextAccessor '
(' (
)( )
;) *
builder 
. 
Services 
. 
	AddScoped 
< 
ICurrentUserService .
,. /
CurrentUserService0 B
>B C
(C D
)D E
;E F
builder 
. 
Services 
. (
AddInfrastrutureIdentityToDI -
(- .
builder. 5
.5 6
Configuration6 C
)C D
;D E
builder 
. 
Services 
. 
	Configure 
< 
IdentityOptions *
>* +
(+ ,
opts 
=> 
opts	 
. 
SignIn 
. !
RequireConfirmedEmail *
=+ ,
true- 1
) 
; 
builder 
. 
Services 
. 
	Configure 
< .
"DataProtectionTokenProviderOptions =
>= >
(? @
opts 
=> 
opts 	
.	 

TokenLifespan
 
= 
TimeSpan "
." #
	FromHours# ,
(, -
$num- /
)/ 0
)0 1
;1 2
builder   
.   
Services   
.   !
AddInfrastructureToDI   &
(  & '
builder  ' .
.  . /
Configuration  / <
)  < =
;  = >
builder!! 
.!! 
Services!! 
.!! "
AddApplicationServices!! '
(!!' (
)!!( )
;!!) *
var$$ 
emailConfig$$ 
=$$ 
builder$$ 
.$$ 
Configuration$$ '
.%% 

GetSection%% 
(%% 
$str%% $
)%%$ %
.&& 
Get&& 
<&& 	
EmailConfiguration&&	 
>&& 
(&& 
)&& 
;&& 
builder'' 
.'' 
Services'' 
.'' 
AddSingleton'' 
('' 
emailConfig'' )
)'') *
;''* +
builder(( 
.(( 
Services(( 
.(( 
	AddScoped(( 
<(( 
IEmailService(( (
,((( )
EmailService((* 6
>((6 7
(((7 8
)((8 9
;((9 :
builder** 
.** 
Services** 
.** 
AddControllers** 
(**  
)**  !
;**! "
builder,, 
.,, 
Services,, 
.,, #
AddEndpointsApiExplorer,, (
(,,( )
),,) *
;,,* +
builder-- 
.-- 
Services-- 
.-- 
AddSwaggerGen-- 
(-- 
c--  
=>--! #
{.. 
c// 
.// !
AddSecurityDefinition// 
(// 
$str// !
,//! "
new//# &!
OpenApiSecurityScheme//' <
{00 
Description11 
=11 
$str13 <
,33< =
Name44 
=44 
$str44	 
,44 
In55 
=55 
ParameterLocation55 
.55 
Header55 
,55  
Type66 
=66 
SecuritySchemeType66	 
.66 
ApiKey66 "
,66" #
Scheme77 
=77	 

$str77 
}88 
)88 
;88 
c:: 
.:: "
AddSecurityRequirement:: 
(:: 
new:: &
OpenApiSecurityRequirement:: 8
(::8 9
)::9 :
{;; 
{<< 
new== 
!
OpenApiSecurityScheme==  
{>> 
	Reference?? 
=?? 
new?? 
OpenApiReference?? &
{@@ 	
TypeAA 
=AA 
ReferenceTypeAA 
.AA 
SecuritySchemeAA *
,AA* +
IdBB 	
=BB
 
$strBB 
}CC 	
,CC	 

SchemeDD 
=DD 
$strDD 
,DD 
NameEE 
=EE 
$strEE 
,EE 
InFF 

=FF 
ParameterLocationFF 
.FF 
HeaderFF %
,FF% &
}HH 
,HH 
newII 	
ListII
 
<II 
stringII 
>II 
(II 
)II 
}JJ 
}KK 
)KK 
;KK 
cMM 
.MM 

SwaggerDocMM 
(MM 
$strMM 
,MM 
newMM 
OpenApiInfoMM #
{NN 
VersionOO 	
=OO
 
$strOO 
,OO 
TitlePP 
=PP 	
$strPP
 &
,PP& '
}RR 
)RR 
;RR 
cTT 
.TT 
OperationFilterTT 
<TT 0
$FileResultContentTypeOperationFilterTT 7
>TT7 8
(TT8 9
)TT9 :
;TT: ;
}UU 
)UU 
;UU 
varXX 
appXX 
=XX 	
builderXX
 
.XX 
BuildXX 
(XX 
)XX 
;XX 
if[[ 
([[ 
app[[ 
.[[ 
Environment[[ 
.[[ 
IsDevelopment[[ !
([[! "
)[[" #
)[[# $
{\\ 
app]] 
.]] 

UseSwagger]] 
(]] 
)]] 
;]] 
app^^ 
.^^ 
UseSwaggerUI^^ 
(^^ 
)^^ 
;^^ 
}__ 
appaa 
.aa 
UseHttpsRedirectionaa 
(aa 
)aa 
;aa 
appcc 
.cc 
UseAuthorizationcc 
(cc 
)cc 
;cc 
appee 
.ee 
MapControllersee 
(ee 
)ee 
;ee 
appgg 
.gg 
Rungg 
(gg 
)gg 	
;gg	 
ñ
=D:\Real-Estate\RealEstate.API\Servicies\CurrentUserService.cs
	namespace 	

RealEstate
 
. 
API 
. 
	Servicies "
{ 
public 
class 
CurrentUserService  
:! "
ICurrentUserService# 6
{ 
private		 	
readonly		
  
IHttpContextAccessor		 '
httpContextAccessor		( ;
;		; <
public 
CurrentUserService	 
(  
IHttpContextAccessor 0
httpContextAccessor1 D
)D E
{ 
this 
. 
httpContextAccessor 
= 
httpContextAccessor 1
;1 2
} 
public 
string	 
UserId 
=> 
httpContextAccessor -
.- .
HttpContext. 9
?9 :
.: ;
User; ?
?? @
.@ A
FindFirstValueA O
(O P

ClaimTypesP Z
.Z [
NameIdentifier[ i
)i j
!j k
;k l
public 
ClaimsPrincipal	 %
GetCurrentClaimsPrincipal 2
(2 3
)3 4
{ 
if 
( 
httpContextAccessor 
. 
HttpContext &
!=' )
null* .
&&/ 1
httpContextAccessor2 E
.E F
HttpContextF Q
.Q R
UserR V
!=W Y
nullZ ^
)^ _
{ 
return 

httpContextAccessor 
. 
HttpContext *
.* +
User+ /
;/ 0
} 
return 	
null
 
! 
; 
} 
public 
string	 
GetCurrentUserId  
(  !
)! "
{ 
return 	%
GetCurrentClaimsPrincipal
 #
(# $
)$ %
?% &
.& '
GetObjectId' 2
(2 3
)3 4
!4 5
;5 6
} 
} 
}   ¸
GD:\Real-Estate\RealEstate.API\Utility\FileResultContentTypeAttribute.cs
	namespace 	

RealEstate
 
. 
API 
. 
Utility  
{ 
[ 
AttributeUsage 
( 
AttributeTargets !
.! "
Method" (
)( )
]) *
public 
class *
FileResultContentTypeAttribute ,
:- .
	Attribute/ 8
{ 
public *
FileResultContentTypeAttribute	 '
(' (
string( .
contentType/ :
): ;
{ 
ContentType 
= 
contentType 
; 
}		 
public 
string	 
ContentType 
{ 
get !
;! "
}# $
} 
} õ
MD:\Real-Estate\RealEstate.API\Utility\FileResultContentTypeOperationFilter.cs
	namespace 	

RealEstate
 
. 
API 
. 
Utility  
{ 
public 
class 0
$FileResultContentTypeOperationFilter 2
:3 4
IOperationFilter5 E
{ 
public 
void	 
Apply 
( 
OpenApiOperation $
	operation% .
,. /"
OperationFilterContext0 F
contextG N
)N O
{		 
var

 
requestAttribute

 
=

 
context

 !
.

! "

MethodInfo

" ,
.

, -
GetCustomAttributes

- @
(

@ A
typeof

A G
(

G H*
FileResultContentTypeAttribute

H f
)

f g
,

g h
false

i n
)

n o
. 
Cast 	
<	 
*
FileResultContentTypeAttribute
 (
>( )
() *
)* +
. 
FirstOrDefault 
( 
) 
; 
if 
( 
requestAttribute 
== 
null 
)  
return! '
;' (
	operation 
. 
	Responses 
. 
Clear 
( 
) 
; 
	operation 
. 
	Responses 
. 
Add 
( 
$str  
,  !
new" %
OpenApiResponse& 5
{ 
Content 
= 
new 

Dictionary 
< 
string #
,# $
OpenApiMediaType% 5
>5 6
{ 
{ 
requestAttribute 
. 
ContentType !
,! "
new# &
OpenApiMediaType' 7
{ 
Schema 
= 
new 
OpenApiSchema  
{ 
Type 
= 
$str 
, 
Format 
= 
$str 
} 
} 
} 
} 
}   
)   
;   
}!! 
}"" 
}## 